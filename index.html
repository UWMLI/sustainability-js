<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="no-cache" />
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="viewport" content="width=device-width initial-scale=1.0 maximum-scale=1.0 user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />

<title>Game</title>

<link href="style.css" rel="stylesheet" type="text/css"></link>
<script type='text/javascript' src='src/utils/webgl-utils.js'></script>
<script type="text/javascript" src="src/utils/canv.js"></script>
<script type="text/javascript" src="src/utils/inputhacks.js"></script>
<script type="text/javascript" src="src/stage.js"></script>
<script type="text/javascript" src="src/game.js"></script>
<script type="text/javascript" src="src/model.js"></script>
<script type="text/javascript" src="src/ticker.js"></script>
<script type="text/javascript" src="src/drawer.js"></script>
<script type="text/javascript" src="src/clicker.js"></script>
<script type="text/javascript" src="src/dragger.js"></script>
<script type="text/javascript" src="src/flicker.js"></script>
<script type="text/javascript" src="src/assetter.js"></script>
<script type="text/javascript" src="src/scenes/nullScene.js"></script>
<script type="text/javascript" src="src/scenes/loadingScene.js"></script>
<!--<script type="text/javascript" src="src/scenes/gameplayScene.js"></script>--><!--Just acts as example for scene- not actually used.-->
<script type="text/javascript" src="src/scenes/sweater/sweaterScene.js"></script>
<script type="text/javascript" src="src/scenes/rainbarrel/rainbarrelScene.js"></script>
<script type="text/javascript" src="src/scenes/heatwheel/heatwheelScene.js"></script>
<script type="text/javascript">
    //window.onerror = function(msg, url, linenumber) { console.log('Error message: '+msg+'\nURL: '+url+'\nLine Number: '+linenumber); return true; };

    var m;//model
    var g;//game

    //Prepare and load HTML+JS
    var ARIS = {};
    var readyCount = 2;
    function partReady() { readyCount--; if(readyCount == 0) jsLoaded(); }
    ARIS.ready = function() { partReady(); };
    window.addEventListener('load', partReady, false);
    //Sync with ARIS for data
    function jsLoaded() { m = new Model(); m.fetchSync(function(){ g = new Game(HeatWheelScene); g.begin(); }); }

    //Uncomment to test on PC
    ///*
    ARIS.parseURLParams = function(url){ return {"gameId":0,"playerId":0,"webPageId":0}; };
    ARIS.getItemCount = function(itemId){ ARIS.didUpdateItemQty(itemId, 1); };
    ARIS.ready();
    //*/
</script>
</head>

<body class='full_screen'>
  <div id="stage_container" style="width:640px; height:640px;"></div>
</body>

</html>

